language: java

matrix:
  fast_finish: true
  include:
    # The basic unit-tests environments
    - jdk: oraclejdk8
      env:
        - TEST_SUITE=unit
        - SQ_RUN=yes
        # It is necessary only to run the analysis once ;)

    # The integration tests environments
    - jdk: openjdk8
      env:
        - TEST_SUITE=integration
        - SONARQUBE_VERSION=6.0

    - jdk: openjdk8
      env:
        - TEST_SUITE=integration
        - SONARQUBE_VERSION=5.6

env:
  global:
    # GITHUB_TOKEN
    - secure: "fusy970/nx59HQQQ+kEQNoFtDERp+Pn0MDeEjmi3l6nLW/2y97AyhuwlLC05ggu4P7VCATJyEvBhZcmdv+ofFN1NzxVEbmv6QboPg8JGDvV7GqWNV2AYRGyFe07TQpZo3dgtdlDMlyBS0FGeQb8h5EWp3Z0krkUbq4ewJ8xgZvyhY2GWsMZUODynf5xdqCB5mu6VqyzexoQFYdfUy1Us5Nt87h1jZ0Ua63rnVZN9dRgt9VQNusRdyk/GeG0Rb9xreDlkBd8LQgviiA+M8iTitBAcGgQORKfwIP5tXBjNvLJv1KsSKsWqk2hzZy31inFnXIrTQLSJBymX2sJiU2xxB0bAy4KU1Z2Z13YgqD9m3Fxs9Kl69vZc8fILj9RkfgLqZecKq0XC3G1tqc6s4U96HM9JhKid+wt1p8LO44oXVt0+lRfq2csAA67Iwr2YpNBVCk7BlUeDB8JZ6we8yeTnexIsoFrvanrObDFCHm78HAUmYbbPaeGTm9Mlyz7IbZ21mqlB/lsmOAWNXDtuBuEwUoSR2wkm5u5/DzB8q7nFRVfkYkjk65/0jRaDeQP5QCcK+XEmVSTcdL6D3fi8Lr8hyI1a1XuNssBKXYELMXdFImdqZgncWDdMW+QkR0hLWYdAtuxJQVtIGeeT5KuPAHJ72aOBqucIX8vSSmFUlp8yA+A="
    #
    - SONAR_HOST_URL="https://sonarcloud.io"
    - SONAR_ORGA="defauilt"
    #
    # SONAR_TOKEN
    - secure: "LEZBTQvxRPSwNpVD/tglaKPC61WpvyvpbxuXCle4BcN6+AyLXrwF+qTmWanQmPjZ4kV1DKTzCn8pRvZobbvom3EZShpvRYCo/UiLlrgkezWTtPIKLtdC7RA8ouq2xN7TYY14XX2Sq/PuHoqXPdHeVV/ZmCMR4qPYFezGLErmJzaDyhalHb10s4n78TUXyU3HYGoDQJDKAG/mm5v6TMIFl100vkIZtWQwaeY+1LjsHR5/AVvsUknxpPgOM2wz5plfTUaETMQ01Ncocy1+o/jnwARr/W8oFMit2pgVnNBN4b37SFHgP8VDw8VG7PqXLDAauvBgXITFOiWOLSCTKEa3Cjm0TE8ql0caYaKzjk8b9LTNNz34KHMS3Mez2ufmGJ3tfzHMZ6zU3zt1cKObSu18TgSY3yKOwmfbHffOP0I1tyqfDXxqfTqrHbyKfsmn5+RPcxY3+2p7hInL+FKp/NQEH6AkXr3ft0ydGlb5jNHduAjvvA3ZbgYdpTqsZBwlPUIRB4T5cpGJLoucJ04KnF1os5Y8VVi78jnnU7wX0N6SoskMvXO+kb2MZy9OUQzknOS+HBbBXSD6q4trSGyr77mw66WE7QMf3Uq1sDtxuyXyBAOPdMzjrlJIr2FKk3W83K6IW5Q16mGV/OZdattrdm7L2bFCy7OSbKqhzr48IdzDQGE="


install:
  - mvn dependency:go-offline

script:
  - ./.travis/script.sh
  - ./.travis/runSonarQubeAnalysis.sh

sudo: false
dist: trusty

notifications:
  email: false
