language: java

matrix:
  fast_finish: true
  include:
    # The basic unit-tests environments
    - jdk: oraclejdk8
      env:
        - TEST_SUITE=unit
        - SQ_RUN=yes
        # It is necessary only to run the analysis once ;)

    # The integration tests environments
    - jdk: openjdk8
      env:
        - TEST_SUITE=integration
        - SONARQUBE_VERSION=6.0

    - jdk: openjdk8
      env:
        - TEST_SUITE=integration
        - SONARQUBE_VERSION=5.6


addons:
  sonarqube:
    organization: "default"
    token:
      secure: "d8D4kV5mCz50taLbYX4agjOHvhBrR532rnjTOLGHUhETzXdVaWSH7bKyeIohSQiixEX09pPNY7/bLRENkDPwI25SG9kmrAKLbuJwhALsT0MreBBj+tkRJJhyPXPFvue09LrQOBLDUnrjCKzk+29WeIW0ScLhKIwaxgtN4lAPmFH5rm0rszkKQT0HCQ0FgS9MZsW8ZeCEg8Jkk7Wzd8JVDbCeVvC0PQD8QVEjgLwIQJRtrK+yXVbuzLeGvWRPxxxFzYkZSkXB9CDVfBqaM3RpBgKQpb81tqfVSwpNwTvwpaY1iuesHwOdlxzRuXzcY+wAp8hiZg/d8TjL2sXjBxuoD6a1C14abkdn72d8h43y5E5lWb5tVTaiepuN8DcNzstesN3HicqIZBxStGAgngmTn23eejSodJl7w/CshxuvUd+B2FxOuohPtsf5BgThr8f7Nvs/djIVgij12ovQBoDquTLWpJxhyYeJNlWSw3KOEIQSlXtrciYKcjpoDL8c81L+/TBk1jsp47AU/mSP4moiwKMYYHHw0mSnnV9yY6SZqWmIYLzxGNBW1UUMWH9vQYHzFO0VRQTzqfbMDoOrX/9CBjX4Z8x1dkHqhK+2jjh+rl5YZTXVUqaIHQ2MC04Iy9hgPpf4gSCFaoPUPDN6wn2Q4FAJj2Q054T3XVzrQPhx43w="
      # SONAR_TOKEN as is (/!\ no VAR= /!\)

    # Activating comments on PRs
    github_token:
      secure: "JTVHePzKgN9XuzjeFOMaookAuJ/vlQyKpncsl7tRgaZTBXrzBsvptMfGcwmzzmGSEYdIl5sCXD5BMfcF1yv/gY1rGn+uP3j1uKLs5HrxTUAablLfw3DLRGTT1ZLP1GXjVcfoBxhD6MShbC0Z0vyH81FQqJqzXNBUwzEPtwNdUkM0+wRjFZefIRAH0xol3q96FGYbYTWjbDBajOjRnPtUt1TtI9gqaBJ6LDtGvZtyFAuo4Z/rTErpwdxq2f5Gyb6aiv7q/RcSRxT6+kXWmDUnurO4h/FjowdEnViWvCdzJFl9B9I5B/0WwqfHP4qCmLFzA8PC44ntCvu/f89okZJMdpHTpCJdlUqiGxRzqHS/T/D7z2d4NhMgs1y5htef+DWn8eqHjZ1v/qicpHyIgR+FAmWRNw0CZeuXtvYa+FZF9aBJ0CbV7fz4AGIDDZXWP1FSEo7Q9Qc//IzTBM0xADUX9BI1IxwJXUqjdemCd34ELzeBbJVxXDNLbcjFfs/r9Tp7G4cWhPxqk/FjX+3sEpOzG/4nQKENhRHSzVjvON5XYGOhVD6n/RpAwi2OS+BLkkS2apsGQJFqHHtEzMr6Y4z4V7+e1k1+pKMj44z/d3Em52Oe7Ar5oB78vTh1wGYi05SMsfthbOZHftUlrJxYf5yv5K91z1aRcIXQ3mkSnWhzFJw="

    # By default only master...
    #branches:


install:
  - mvn dependency:go-offline

script:
  - ./.travis/script.sh
  - ./.travis/runSonarQubeAnalysis.sh

sudo: false
dist: trusty

notifications:
  email: false
