language: java

matrix:
  fast_finish: true
  include:
    # The basic unit-tests environments
    - jdk: oraclejdk8
      env:
        - TEST_SUITE=unit
        - SQ_RUN=yes
        # It is necessary only to run the analysis once ;)

    # The integration tests environments
    - jdk: openjdk8
      env:
        - TEST_SUITE=integration
        - SONARQUBE_VERSION=7.3

    - jdk: openjdk8
      env:
        - TEST_SUITE=integration
        - SONARQUBE_VERSION=6.7

    - jdk: openjdk8
      env:
        - TEST_SUITE=dependency-check

addons:
  sonarcloud:
    organization: "default"
    token:
      secure: "ux1NYGmQR9xdobfJ9fMnh0oGmAUwlQ6d5neeptyopwD5SgtPawkjEL14jH+oIMiStwWU9psPR4jE7Unttmi+j94j2gJE91uwyVGYsjcqGOHxTh8hbsLX5aeI+0NitXkSraM8iY7WT2gGgH6n8G9QQXDVPCWO0MDQUzNjTI8XM1MYgVehSNXes2mzO7JN8pX+YSjsrFSG1j6Zwz0IiZIPvC5upS/w9JwLqyHeZqlpYVy5S+Gl3oGGtwONHyEM0vNs3YMgR4ylzLzRlNl40JvjLRbLDikS44O+W3ADBFe122p2OYMzVZN+KN8RuYqpJLggKWZijsZ09Yl/4ReRDZGwVg5uylcjUaAlwRfkW1pP6yuXgBqOmwBXfSXqflYERt8YUWrGcnT534WnffpjR+dW5d735DQv6uZkSA/dWBnhI8CmK6XbyNHSfRXTtTiL2Uogd6DpDtUghErz0408a/zvtBAhrrVA03AqutGVefyiSs/uWpDVM1cvB9gUD7AXB/MtZi4hgB/lSy4/DH2Fy1kDLVPvcnQpnAlaAPu88jCXIQtbzN+Ol1qe+yUj44YW5X0FxhGUrCa/akZh6DPCUn03gK6gY1zd1+5zPl73FnbVjpwTrNZZM+l78tW8L612aqSSItsnBi/oTrjWYXGvbCImTcxmkp266qSWmoML2PEp6s8="


install:
  - mvn dependency:go-offline

script:
  - ./.travis/script.sh
  - ./.travis/runSonarQubeAnalysis.sh

sudo: false
dist: trusty
git:
  depth: false

notifications:
  email: false

